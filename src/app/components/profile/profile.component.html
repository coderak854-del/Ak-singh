
@if (userProfile(); as profile) {
    <div class="profile-header-card">
        <img [src]="profileAvatar" alt="Avatar" class="profile-avatar">
        <h3 class="profile-name mt-2">{{ profile.displayName || 'User' }}</h3>
        <p class="profile-email">{{ profile.email || 'N/A' }}</p>
        <div class="profile-stats w-100">
            <div class="stat-item"><strong>{{ profile.totalMatches ?? 0 }}</strong><span>Matches Played</span></div>
            <div class="stat-item"><strong>{{ profile.wonMatches ?? 0 }}</strong><span>Matches Won</span></div>
            <div class="stat-item"><strong>{{ profile.totalEarnings ?? 0 | currency:'INR':'symbol':'1.0-0' }}</strong><span>Total Winnings</span></div>
        </div>
    </div>
} @else {
    <div class="profile-header-card placeholder-glow">
        <div class="profile-avatar placeholder rounded-circle"></div>
        <h3 class="profile-name mt-2"><span class="placeholder col-6"></span></h3>
        <p class="profile-email"><span class="placeholder col-8"></span></p>
        <div class="profile-stats w-100">
            <div class="stat-item"><strong class="placeholder col-4"></strong><span>Matches Played</span></div>
            <div class="stat-item"><strong class="placeholder col-4"></strong><span>Matches Won</span></div>
            <div class="stat-item"><strong class="placeholder col-4"></strong><span>Total Winnings</span></div>
        </div>
    </div>
}

<div class="profile-links">
    <div class="list-group custom-card">
        <label class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-bell-fill"></i> Notifications</span>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" checked>
            </div>
        </label>
        <a href="#" (click)="$event.preventDefault(); openPolicy('refer')" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-person-plus-fill"></i> Refer & Earn</span> <i class="bi bi-chevron-right"></i>
        </a>
        <a href="#" (click)="$event.preventDefault(); openPolicy('privacy')" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-shield-lock-fill"></i> Privacy Policy</span><i class="bi bi-chevron-right"></i>
        </a>
        <a href="#" (click)="$event.preventDefault(); openPolicy('terms')" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-file-text-fill"></i> Terms and Conditions</span><i class="bi bi-chevron-right"></i>
        </a>
        <a href="#" (click)="$event.preventDefault(); openPolicy('refund')" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-arrow-repeat"></i> Refund and Cancellation</span><i class="bi bi-chevron-right"></i>
        </a>
        <a href="#" (click)="$event.preventDefault(); openPolicy('fairPlay')" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center interactive-list-item">
            <span><i class="bi bi-patch-check-fill"></i> Fair Play Policy</span><i class="bi bi-chevron-right"></i>
        </a>
        <button class="list-group-item list-group-item-action text-danger d-flex justify-content-between align-items: center interactive-list-item" (click)="logout()">
            <span><i class="bi bi-box-arrow-right"></i> Logout</span><span></span>
        </button>
    </div>
</div>
